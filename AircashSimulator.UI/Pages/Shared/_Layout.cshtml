@using Microsoft.Extensions.Configuration
@using System.Text.Json
@inject IConfiguration Configuration

<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="~/images/favicon.ico" />
    <title>Aircash POS</title>
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="~/css/openSans.css" rel="stylesheet" />
    <link href="~/css/app.min.css" rel="stylesheet" />
    <link href="~/css/site.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/fontawesome/css/all.min.css" rel="stylesheet" />
    <link href="~/assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" />
    <link href="~/assets/plugins/datetimePicker/bootstrap-datepicker.css" rel="stylesheet" />
    <!-- ================== END BASE CSS STYLE ================== -->
    <!-- ================== BEGIN BASE ANGULAR JS ================== -->
    <script src="~/js/angular.min.js"></script>
    <script src="~/js/angular-ui-router.min.js"></script>
    <script src="~/js/stateEvents.min.js"></script>
    <script src="~/js/ui-bootstrap-tpls.js"></script>
    <script src="~/js/plugins/pace.min.js"></script>
    <!-- ================== END BASE ANGULAR JS ================== -->

</head>
<body ng-controller="appController" ng-class="{'pace-top': setting.layout.paceTop, 'boxed-layout': setting.layout.pageBoxedLayout, 'bg-white': setting.layout.pageBgWhite }">
    @RenderBody();
    <!-- begin #page-loader -->
    <div id="page-loader" ng-controller="pageLoaderController" class="fade in"><span class="spinner"></span></div>
    <!-- end #page-loader -->
    <!-- begin #page-container -->
    <div id="page-container" class="page-container page-sidebar-fixed page-header-fixed fade"
         ng-class="{
			'page-sidebar-minified': setting.layout.pageSidebarMinified,
			'page-content-full-height': setting.layout.pageContentFullHeight,
			'page-footer-fixed': setting.layout.pageFixedFooter,
			'page-with-right-sidebar': setting.layout.pageRightSidebar,
			'page-sidebar-minified': setting.layout.pageSidebarMinified,
			'page-with-two-sidebar': setting.layout.pageTwoSidebar,
			'page-right-sidebar-toggled': setting.layout.pageTwoSidebar,
			'page-with-top-menu': setting.layout.pageTopMenu,
			'page-without-sidebar': setting.layout.pageWithoutSidebar,
			'page-with-wide-sidebar': setting.layout.pageWideSidebar,
			'page-with-light-sidebar': setting.layout.pageLightSidebar,
			'p-t-0': setting.layout.pageWithoutHeader
		}">
        <div ui-view></div>
    </div>
    <!-- end page container -->
    <!-- ================== BEGIN BASE JS ================== -->
    <script src="~/js/jquery-3.3.1.min.js"></script>
    <script src="~/js/plugins/bootstrap.bundle.js"></script>
    <script src="~/js/plugins/js.cookie.js"></script>
    <script src="~/js/plugins/jquery.slimscroll.min.js"></script>
    <script src="~/js/plugins/moment-with-locales.js"></script>
    <script src="~/assets/plugins/gritter/js/jquery.gritter.min.js"></script>
    <script src="~/assets/plugins/datetimePicker/bootstrap-datepicker.js"></script>
    <script src="~/js/plugins/ngStorage.min.js"></script>
    <!-- ================== END BASE JS ================== -->
    <!-- ================== BEGIN PAGE LEVEL JS ================== -->
    <script src="~/js/app.js" asp-append-version="true"></script>
    <script src="~/js/angular-app.js" asp-append-version="true"></script>
    <script src="~/js/angular-setting.js" asp-append-version="true"></script>
    <script src="~/js/angular-controller.js" asp-append-version="true"></script>
    <script src="~/js/angular-directive.js" asp-append-version="true"></script>
    <script src="~/js/plugins/angular-sanitize.js" asp-append-version="true"></script>

    <script>
        (function(){
            app.factory('config', ['$rootScope', function ($rootScope) {
                 @{
                    var dict = Configuration
                        .GetSection("transalations")
                        .Get<Dictionary<string, string>>();
                    var translations = JsonSerializer.Serialize(dict);
                }
                $rootScope.translations = @Html.Raw(translations);
	            var config = {
                    baseUrl: '@Configuration.GetSection("ApiUrl").Value'
	            };
	            return config;
            }]);
        })();

    </script>

    <!-- ================== END PAGE LEVEL JS ================== -->
    <!-- ================== BEGIN CUSTOM JS ================== -->
    <script src="~/helpers/JwtParser.js" asp-append-version="true"></script>
    <script src="~/helpers/print.js" asp-append-version="true"></script>
    <script src="~/services/interceptorService.js" asp-append-version="true"></script>
    <script src="~/services/authenticationService.js" asp-append-version="true"></script>
    <script src="~/app/login/login.js" asp-append-version="true"></script>
    <script src="~/app/dashboard/dashboard.js" asp-append-version="true"></script>
    <script src="~/app/transactions/transactions.js" asp-append-version="true"></script>
    <!-- ================== END CUSTOM JS ================== -->
</body>
</html>
